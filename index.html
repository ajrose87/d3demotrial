<!DOCTYPE html>

<head> 
	<link rel="shortcut icon" type="image/png" href="images/favicon.png"/>

    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.1.0/lodash.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
    <script src="timeseries.js"></script>
</head>

<body>
    <div class="container">
		<p> 
			<pre><code class="html">&lt;div class="timeseries"&gt;&lt;/div&gt;</code></pre>
			<pre><code class="javascript">var data = [{'value': 1380854103662},{'value': 1363641921283}];</code></pre>
			<pre><code class="javascript">timeseries('timeseries', data, true);</code></pre>
		</p>
    </div>

    <script>
		hljs.initHighlightingOnLoad();
		
		window.onload = function() {
		
			"use strict";
			
			function onMessage (evt) {
				if (evt && evt.data && evt.data.hasOwnProperty("data"))
					updateData(evt.data);
			}

			if (window.addEventListener) {
				// For standards-compliant web browsers
				window.addEventListener("message", onMessage, false);
			}
			else {
				window.attachEvent("onmessage", onMessage);
			}
			
			var self = this;
			
			function updateData(chartData)
			{
				//check the required number of variables are there - no more no less
				if ( hasRequiredData(chartData.columns, {category: 1, measure: 0} ) )
					
				else
					console.log("Not enough data");
			}
			
			function convertDatesToDates(data, columnInfo)
			{
				for (var c = 0; c < columnInfo.length; c++)
				{
					var colInfo = columnInfo[c];
					if (colInfo)
					{
						if (colInfo.type == "date")
						{
							if (colInfo.format)
							{
								if (colInfo.format.name == "DATE")
								{
								}
							}
							
							for (var i = 0; i < data.length; i++)
							{
								var old = data[i][c];
								data[i][c] = new Date(old);
								//console.log(old + " : " + data[i][c]);								
							}
						}
					}
				}
			}

			function hasRequiredData(columnInfo, requirements)
			{
				
			}
			
		}
    </script>
	
</body>

</html>